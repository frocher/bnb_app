<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-divider/paper-divider.html">
<link rel="import" href="bnb-icons.html">

<dom-module id="bnb-oauth">
  <style>
    paper-button {
      text-transform:none;
    }

    paper-button span {
      padding-left: 2px;
    }

    paper-divider {
      width: 100px;
    }

    .title {
      margin-bottom: 16px;
    }

    .title span {
      padding-left: 16px;
      padding-right: 16px;
      color: var(--secondary-text-color);
      text-align: center;
    }

    .facebook {
      background-color: var(--paper-indigo-500);
    }

    .github {
      background-color: var(--paper-grey-200);
      color: black;
    }

    .google {
      background-color: var(--paper-red-500);
    }

  </style>

  <template>
    <div class="layout vertical center-justified">

      <div class="title layout horizontal center-justified center">
        <paper-divider></paper-divider>
        <span>or log in using</span>
        <paper-divider></paper-divider>
      </div>
      <div class="layout horizontal center-justified center">
        <paper-button class="facebook">
          <iron-icon on-tap="facebookTapped" icon="bnb-icons:facebook"></iron-icon>
          <span>Facebook</span>
        </paper-button>
        <paper-button on-tap="githubTapped" class="github">
          <iron-icon icon="bnb-icons:github"></iron-icon>
          <span>Github</span>
        </paper-button>
        <paper-button class="google">
          <iron-icon on-tap="googleTapped" icon="bnb-icons:gplus"></iron-icon>
          <span>Google</span>
        </paper-button>
      </div>
    </div>
  </template>
</dom-module>

<script>
(function() {

  Polymer({
    is: 'bnb-oauth',

    facebookTapped: function() {
      this._callService('facebook');
    },

    githubTapped: function() {
      this._callService('github');
    },

    googleTapped: function() {
      this._callService('google');
    },

    _callService: function(service) {
      var origin = window.location.protocol + '//' + window.location.host + window.location.pathname;
      url = BnbService.BASE_URL + 'auth/' + service + '?auth_origin_url=' + origin;
      window.location.replace(url);
    },
  });

})();
</script>
