<dom-module id="twb-period-dropdown">
  <style>
    paper-menu-button {
      height: 40px;
    }

    #periodBtn span {
      text-transform: lowercase;
    }

    .dropdown-content paper-item {
      cursor: pointer;
    }

    paper-menu-button {
      margin-left: -1em;
      padding: 0;
    }
  </style>
  <template>
    <paper-menu-button>
      <paper-button id="periodBtn" class="dropdown-trigger">
        <span id="periodSpan">[[computePeriodLabel(period.type)]]</span>
        <iron-icon icon="arrow-drop-down"></iron-icon>
      </paper-button>
      <paper-menu selected="{{period.type}}" class="dropdown-content" attr-for-selected="data-period">
        <paper-item on-tap="periodTapped" data-period="this_month">This&nbsp;month</paper-item>
        <paper-item on-tap="periodTapped" data-period="this_week">This week</paper-item>
        <paper-item on-tap="periodTapped" data-period="this_day">This day</paper-item>
        <paper-item on-tap="periodTapped" data-period="custom">Custom...</paper-item>
      </paper-menu>
    </paper-menu-button>

  </template>
</dom-module>

<script>
(function() {

  Polymer({
    is: 'twb-period-dropdown',

    properties: {
      period: {
        type: Object,
        value: null
      }
    },

    periodTapped: function(e) {
      this.fire('period-changed', {period: this.period});
      this.$.periodSpan.innerHTML = e.currentTarget.innerHTML;
    },

    computePeriodLabel: function(periodType) {
      switch (periodType) {
        case 'this_month' : return "This month";
        case 'this_week' : return "This week";
        case 'this_day' : return "This day";
        case 'custom' : return "Custom";
      }
    }

  });

})();
</script>
