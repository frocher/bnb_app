<link rel="import" href="twb-page-card.html">
<link rel="import" href="twb-pages-bar.html">
<link rel="import" href="twb-period-dropdown.html">

<dom-module id="twb-pages">

  <style>
    :host {
      @apply(--layout-horizontal);
    }

    .page-item {
      display: block;
      width: 200px;
      height: 160px;
      background-color: white;
      margin-top: 8px;
      margin-left: 4px;
      margin-right: 4px;

      box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
      border-radius: 2px;
    }

    .label {
      display: inline;
      padding: .2em .6em .3em;
      font-size: 75%;
      font-weight: 500;
      line-height: 1;
      color: #fff;
      text-align: center;
      white-space: nowrap;
      vertical-align: baseline;
      border-radius: .25em;
    }

    .label-success {
      background-color: #5cb85c;
    }

    .label-warning {
      background-color: #f0ad4e;
    }

    .label-danger {
      background-color: #d9534f;
    }

    .content {
      @apply(--layout-wrap);
      @apply(--layout-center-justified);
      @apply(--layout-horizontal);
      padding:24px;
    }

  </style>
  <template>
    <paper-header-panel class="flex">
      <twb-pages-bar period="{{period}}"></twb-pages-bar>
      <div class="content">
        <template is="dom-repeat" items="{{pages}}" as="item" sort="sortPages">
          <twb-page-card page="[[item]]"></twb-page-card>
        </template>
      </div>
    </paper-header-panel>


  </template>
</dom-module>
<script>
(function() {
  Polymer({
    is: 'twb-pages',

    properties: {
      pages: {
        type: Array,
        value: function() {
          return [];
        }
      },
      period: {
        type: Object
      }
    },

    sortPages: function(first, second) {
      var a = first.name.toUpperCase();
      var b = second.name.toUpperCase();
      return a.localeCompare(b);
    },

    selectedChanged: function() {
      this.page = this.pages[this.selected];
    }
  });

})();
</script>
