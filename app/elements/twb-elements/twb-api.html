<dom-module id="twb-api">
  <template>

  <iron-ajax id="signin-ajax"
      url="/api/v1/users/sign_in.json"
      method="POST"
      handleAs="json"
      params='{"user[email]":"{{user.email}}", "user[password]":"{{user.password}}", "user[remember_me]":"{{user.rememberMe}}"}'
      on-core-response="handleSigninResponse"
      on-core-error="handleSigninError"></iron-ajax>

  <iron-ajax id="signup-ajax"
      url="/api/v1/users.json"
      method="POST"
      handleAs="json"
      params='{"user[name]":"{{user.name}}", "user[email]":"{{user.email}}", "user[password]":"{{user.password}}", "user[password_confirmation]":"{{user.password_confirmation}}"}'
      on-core-response="handleSignupResponse"
      on-core-error="handleSignupError"></iron-ajax>

  <iron-ajax id="forgot-ajax"
      url="/api/v1/users/password.json"
      method="POST"
      handleAs="json"
      params='{"user[email]":"{{user.email}}"}'
      on-core-response="handleForgotResponse"
      on-core-error="handleForgotError"></iron-ajax>

  </template>
</dom-module>

<script>
(function() {
  var token;

  Polymer({
    is: 'twb-api', 

    ready: function() {
      this.token = token;
    },

    signin: function(email, password, response, error) {
    }
  });
})();
</script>
